{% extends "base.html" %}
{% block content %}
<section class="text-center">
  <div class="home-hero-wrap">
    <!-- Title -->
    <h1 class="neon-title text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight" data-text="Echo Line">
      Echo Line
    </h1>
    <p class="mt-3 text-neutral-300 text-base sm:text-lg">
      A YA cyberpunk serial. Part book. Part gallery. Part experience.
    </p>

    <!-- CTA row -->
    <div class="mt-5 flex flex-col sm:flex-row items-center justify-center gap-3">
      <a href="/chapters"
         class="inline-flex items-center justify-center rounded-lg bg-yellow-500 hover:bg-yellow-400 text-black font-semibold px-5 py-3 w-full sm:w-auto">
        Start Reading
        <svg class="ml-2 w-4 h-4" viewBox="0 0 24 24" stroke="currentColor" fill="none">
          <path d="M5 12h14M13 5l7 7-7 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
      <button @click="cycleTheme"
              class="inline-flex items-center justify-center rounded-lg border border-neutral-800 bg-neutral-900/60 hover:bg-neutral-800 px-5 py-3 w-full sm:w-auto">
        Trigger Neon Surge
      </button>
    </div>

    <!-- FEATURED ART -->
    <figure class="mt-8 rounded-xl overflow-hidden border border-neutral-800 bg-neutral-900/40">
      <!-- Fixed-height wrapper so the image can truly cover -->
      <div class="w-full h-[52vh] min-h-[320px] md:h-[560px]">
        <img
          src="{{ latest and latest.hero_key and asset(latest.hero_key) or asset('Leila_placeholder_001.jpg') }}"
          alt="Echo Line Visual"
          class="w-full h-full object-cover"
          loading="eager" decoding="async" />
      </div>
    </figure>
    <figcaption class="mt-3 text-center text-xs text-neutral-500">
      Each chapter unlocks with new artwork, animations, and ambient vibes.
    </figcaption>
  </div>
</section>

{% if latest %}
<section class="mt-8 sm:mt-10">
  <h2 class="text-xl sm:text-2xl font-semibold mb-3 text-center sm:text-left">This weekâ€™s drop</h2>
  <a href="/chapters/{{ latest.slug }}"
     class="block rounded-xl border border-neutral-800 bg-neutral-900/40 hover:bg-neutral-900 transition p-4 sm:p-5">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
      <div class="min-w-0">
        <h3 class="text-lg sm:text-xl font-medium truncate">{{ latest.title }}</h3>
        {% if latest.created_at %}
        <p class="text-xs sm:text-sm text-neutral-400 mt-1">{{ latest.created_at.strftime("%b %d, %Y") }}</p>
        {% endif %}
      </div>
      <span class="inline-flex items-center justify-center text-sm rounded border border-neutral-700 px-3 py-1 shrink-0">
        Open
      </span>
    </div>
  </a>
</section>
{% endif %}

{% if latest_list %}
<section class="mt-8 sm:mt-12">
  <h2 class="text-xl sm:text-2xl font-semibold mb-4">Recent</h2>
  <ul class="grid gap-3 sm:gap-4 sm:grid-cols-2">
    {% for c in latest_list %}
    <li>
      <a href="/chapters/{{ c.slug }}"
         class="block rounded-xl border border-neutral-800 bg-neutral-900/30 hover:bg-neutral-900 p-4 transition">
        <div class="flex items-start gap-3">
          <img src="{{ c.hero_key and asset(c.hero_key) or asset('Leila_placeholder_001.jpg') }}" alt=""
               class="w-16 h-16 rounded object-cover hidden sm:block">
          <div class="min-w-0">
            <h3 class="font-medium truncate">{{ c.title }}</h3>
            {% if c.created_at %}
            <p class="text-xs text-neutral-400 mt-1 truncate">{{ c.created_at.strftime("%b %d, %Y") }}</p>
            {% endif %}
          </div>
        </div>
      </a>
    </li>
    {% endfor %}
  </ul>
</section>
{% endif %}
{% endblock %}